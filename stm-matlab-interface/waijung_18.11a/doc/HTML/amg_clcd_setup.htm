<!DOCTYPE HTML>
<html>
<head>
   <title>Hardware Modules &gt; aMG CLCD 2 &gt; Character LCD Setup</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="">
   <meta name="description" content="Character LCD Setup">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet">
   <link type="text/css" href="custom.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>

<script type="text/javascript">   
// Toggle Toggler 

var toggleCount=false;
var switchState;

function toggleToggles() {

    if (!toggleCount) {
     toggleCount = true;
     HMToggleExpandAll(true);
     switchState = true;
     }
   
     else if (switchState) {
        HMToggleExpandAll(false);
        switchState = false;
        }
        
     else  {
        HMToggleExpandAll(true);
        switchState = true;
        } 
    }
</script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style type="text/css" media="screen"> 
html, body { margin:0; 
   padding:0; 
   overflow: hidden; 
   background: #FFFFFF; 
  }
 
div#printheader { 
   display: none;
   padding-bottom: 10px;
   }
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
} 
    #idheaderbg  {
    background: #6F6F6F; 
}
   #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
   #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
   #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
   #callout-table a {text-decoration: none; color: blue;}
   #callout-table a:visited {text-decoration: none; color: blue;}
   #overview-table a {text-decoration: none; color: black;}
   #overview-table a:visited {text-decoration: none; color: black;}
   #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}
   p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
   .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
   .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
   .sync-toc a:visited { color: #ffffff; }
   .sync-toc a:hover { text-decoration: underline; }
   </style>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->
<noscript>
<style type="text/css">
html, body { overflow: auto; }
</style> 
</noscript>
<style type="text/css" media="print">
span.f_Heading1 { color: black; }
#idheader, #printheader img { display:none; }
#printheader { display: block; margin-top: 20px; }
#idcontent { margin-top: 10px; }
</style>   
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.htm", "amg_clcd_setup.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->


<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">Character LCD Setup</span></h1>
</div> 
<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; background: url(header_bg.jpg);">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="index.htm?amg_clcd_setup.htm" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   <a href="amg_related_hardware.htm">Hardware Modules</a> &gt; <a href="amg_clcd2.htm">aMG CLCD 2</a>&nbsp;&gt;</p>
   <h1 class="p_Heading1"><span class="f_Heading1">Character LCD Setup</span></h1>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    
     <a href="amg_clcd2.htm"
        onmouseover="document.images.prev.src='btn_prev_h.gif'" 
        onmouseout="document.images.prev.src='btn_prev_n.gif'"
        ><img name=prev src="btn_prev_n.gif" border=0 alt="Previous page"
        ></a><a href="amg_clcd2.htm"
        onmouseover="document.images.main.src='btn_home_h.gif'" 
        onmouseout="document.images.main.src='btn_home_n.gif'"><img name=main src="btn_home_n.gif" border=0 alt="Return to chapter overview"
        ></a><a href="amg_clcd_write.htm"
        onmouseover="document.images.next.src='btn_next_h.gif'" 
        onmouseout="document.images.next.src='btn_next_n.gif'"><img name=next src="btn_next_n.gif" border=0 alt="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  

</div>  



<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<h2 class="p_Heading2"><span class="f_Heading2">User Interface</span></h2>
<h3 class="p_Heading3"><span class="f_Heading3">How this block appears in a Simulink model?</span></h3>
<p><img src="amg_clcd_setup_block.png" width="950" height="115" alt="amg_clcd_setup_block" style="width:950px;height:115px;border:none" /></p>
<p><img src="amg_clcd_demo_clcd_mask.png" width="950" height="857" alt="amg_clcd_demo_clcd_mask" style="width:950px;height:857px;border:none" /></p>
<p>&nbsp;</p>
<p>The block located at <span style="font-weight: bold;">Waijung Blockset/ Hardware Modules/ Charactor LCD</span></p>
<h3 class="p_Heading3"><span class="f_Heading3">What can be configured?</span></h3>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 19px 0px 5px 0px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p><span style="font-weight: bold;">Configuration item</span></p>
</td>
<td style="vertical-align:top; padding:0px;"><p><span style="font-weight: bold;">Selectable option/ Value</span></p>
</td>
<td style="vertical-align:top; padding:0px;"><p><span style="font-weight: bold;">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>Module</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>1| 2| 3| 4</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select CLCD module number, allow up to 4 LCD running in same model.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>Interface</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>4-bits| 8-bits</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>4-bit: Data pin D4, D5, D6, D7 are required for interfacing with CLCD.</p>
<p>8-bit: Data pin D0, D1, D2, D3, D4, D5, D6, D7 are required for interfacing with CLCD.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>Number of lines</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Example: 1, 2, 3 or 4</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Specify number of line supported by LCD.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>Number of columns</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Example: 16 or 20</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Specify number of columns supported by LCD.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO Output type</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Push-Pull| Open-Drain</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Depending on circuit of signal connection to LCD, pin can be configure to Open-Drain of external pull-up resister available, otherwise using Push-pull.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO control port</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>A| B| C| D| E| F| G| H| I</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO port for control signal: RS, RW and EN.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO control pin, RS</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for control signal RS.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; height:26px; padding:0px;"><p>GPIO control pin, RW</p>
</td>
<td style="vertical-align:top; height:26px; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; height:26px; padding:0px;"><p>Select GPIO pin for control signal RW.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO control pin, EN</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for control signal EN.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data D[3:0] port</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>A| B| C| D| E| F| G| H| I</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO port for data signal: D0, D1, D2 and D3.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data D[7:4] port</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>A| B| C| D| E| F| G| H| I</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO port for data signal: D4, D5, D6 and D7.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D0</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D0.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D1</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D1.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D2</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D2.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D3</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D3.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D4</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D4.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D5</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D5.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D6</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D6.</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p>GPIO data pin, D7</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>0| 1| 2| 3| 4| 5| 6| 7| 8| 9| 10| 11| 12| 13| 14| 15</p>
</td>
<td style="vertical-align:top; padding:0px;"><p>Select GPIO pin for data signal, D7.</p>
</td>
</tr>
</table>
</div>
<h2 class="p_Heading2"><span class="f_Heading2">When to use this block?</span></h2>
<p>Use this block for Character LCD module configuration, to configure control pins and data pins.</p>
<h2 class="p_Heading2"><span class="f_Heading2">Adaptive timing control</span></h2>
<p>LCD processing is designed to not to load too much on CPU. It calculate timing required for LCD control, for example when system sample time is less tan 0.0005 seconds, LCD load is less than 0.000010 seconds per step. And when system sample time more than 0.0005 seconds, LCD load is <span style="font-weight: bold;">(Sample_time/0.0005)*0.000060</span> seconds per step.</p>
<h2 class="p_Heading2"><span class="f_Heading2">How does this block work?</span></h2>
<p>This block, &quot;Character LCD Setup&quot; work as background processing task for character LCD display control, and Pins configuration. It is designed as non-blocking process and adaptive timing control to avoid too much loading on overall control process.</p>
<h2 class="p_Heading2"><span class="f_Heading2">Demos</span></h2>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Calibri';color:#000000;">1.</span></td><td style="border:none"><a href="amg_clcd_demo.htm" class="topiclink">Character LCD Demo 2 lines</a> </td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Calibri';color:#000000;">2.</span></td><td style="border:none"><a href="character_lcd_demo_4_lines.htm" class="topiclink">Character LCD Demo 4 lines</a></td></tr></table></div><p>3. <a href="character_lcd_with_enabled_sub.htm" class="topiclink">Character LCD with Enabled Subsystem demo</a></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

var lastSlashPos = document.URL.lastIndexOf("/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") : document.URL.lastIndexOf("\\");
if( document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
 if (document.all) setTimeout(function() {nsrInit();},20); 
    else nsrInit();
 } 

if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) { $('.sync-toc').show();$('p.crumbs').hide();}

</script>
</body>
</html>








